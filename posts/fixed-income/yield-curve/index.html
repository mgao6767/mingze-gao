<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mingze Gao">
<meta name="dcterms.date" content="2023-08-31">

<title>Yield Curve and Term Structure of Interest Rates – Mingze Gao</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../images/favicon.png" rel="icon" type="image/png">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-1QDTTQ6EHM"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1QDTTQ6EHM', { 'anonymize_ip': true});
</script>
<script type="module" src="../../../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="../../../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../styles.css">
<meta name="twitter:title" content="Yield Curve and Term Structure of Interest Rates – Mingze Gao">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://mingze-gao.com/posts/fixed-income/yield-curve/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../images/favicon.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../cv/index.html"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../research/index.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../posts/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../teaching/index.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../../posts/fixed-income/introduction/index.html">Fixed Income</a></li><li class="breadcrumb-item"><a href="../../../posts/fixed-income/yield-curve/index.html">Yield Curve and Term Structure of Interest Rates</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Fixed Income</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/fixed-income/introduction/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to Fixed Income Securities</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/fixed-income/bond-prices-and-yields/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bond Prices and Yields</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/fixed-income/bond-price-volatility/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bond Price Volatility (Sensitivity)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/fixed-income/yield-curve/index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Yield Curve and Term Structure of Interest Rates</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Stata Workshop</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/stata/introduction/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stata - Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/stata/packages/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stata - Packages</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/stata/working-with-datasets/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stata - Working with datasets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/fred/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FRED - Federal Reserve Economic Data</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#background" id="toc-background" class="nav-link active" data-scroll-target="#background">Background</a></li>
  <li><a href="#what-do-we-have-in-reality" id="toc-what-do-we-have-in-reality" class="nav-link" data-scroll-target="#what-do-we-have-in-reality">What do we have in reality?</a></li>
  <li><a href="#the-coupon-effect-and-par-yield" id="toc-the-coupon-effect-and-par-yield" class="nav-link" data-scroll-target="#the-coupon-effect-and-par-yield">The “coupon effect” and “par yield”</a></li>
  <li><a href="#the-yield-curve" id="toc-the-yield-curve" class="nav-link" data-scroll-target="#the-yield-curve">The yield curve</a>
  <ul class="collapse">
  <li><a href="#par-yields-to-zero-rates" id="toc-par-yields-to-zero-rates" class="nav-link" data-scroll-target="#par-yields-to-zero-rates">Par yields to zero rates</a></li>
  <li><a href="#plotting-yield-curves" id="toc-plotting-yield-curves" class="nav-link" data-scroll-target="#plotting-yield-curves">Plotting yield curves</a></li>
  <li><a href="#shapes-of-yield-curve" id="toc-shapes-of-yield-curve" class="nav-link" data-scroll-target="#shapes-of-yield-curve">Shapes of yield curve</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../../posts/fixed-income/introduction/index.html">Fixed Income</a></li><li class="breadcrumb-item"><a href="../../../posts/fixed-income/yield-curve/index.html">Yield Curve and Term Structure of Interest Rates</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Yield Curve and Term Structure of Interest Rates</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Teaching Notes</div>
  </div>
  </div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Mingze Gao, PhD <a href="mailto:mingze.gao@mq.edu.au" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0002-8635-4269" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Macquarie University
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 31, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>We focus on risk-free government bonds for now as their yields serve as the backbone of pricing other bonds.</p>
</div>
</div>
<section id="background" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="background">Background</h2>
<p>As discussed <a href="../../..\posts/fixed-income/bond-prices-and-yields/#price-and-yield-to-maturity">earlier</a>, a bond represents a series of cashflows in the future and its price equals the sum of present values of all cashflows, each of which may be discounted at <strong>different</strong> rates.</p>
<p>Whatever these different discount rates are, we can always find a <strong>single</strong> discount rate (named <em>yield to maturity</em> or YTM) which, when applied to all future payments, gives the market price at the time. Therefore, the yield to maturity is just the same thing as the bond’s market price.</p>
<p>!!! question “But how should a bond’s price (hence yield to maturity) be determined?” Of course, price is shaped by transactions in the market. Yet how exactly do market participants value a bond so that they agree on the transaction price? Alternatively, if a new bond is to be issued, how should it be priced?</p>
<p>If we look at the bond pricing formula,</p>
<p><span class="math display">\[
P_{t} = \underbrace{\sum_{\tau=1}^{n} \frac{C}{(1+r_\tau)^{\tau}} + \frac{F}{(1+r_n)^n}}_{\text{each discounted at corresponding spot rate}} = \underbrace{\sum_{\tau=1}^{n} \frac{C}{(1+{y})^{\tau}} + \frac{F}{(1+{y})^n}}_{\text{all discounted at YTM}}
\]</span></p>
<p>clearly the ultimate factor at play is the series of discount rates <span class="math inline">\(\{r_\tau\}\)</span>, which are the <strong>spot rates</strong> as at time <span class="math inline">\(t\)</span>. On the other hand, each spot rate is applied to discount a single cashflow promised in the future, which resembles the payment of a <strong>zero-coupon bond</strong>, therefore, the spot rate is also sometimes called the “<strong>zero rate</strong>”.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Example">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example
</div>
</div>
<div class="callout-body-container callout-body">
<p>A two-year 5% coupon $100 bond with annual payments can be viewed as a portfolio of two separate assets:</p>
<ul>
<li><strong>Asset 1</strong> pays a single cashflow of $5 in one year, nothing else in any other time.</li>
<li><strong>Asset 2</strong> pays a single cashflow of $105 in two years, nothing else in any other time.</li>
</ul>
<p>To value <strong>Asset 1</strong>, we need the one-year spot rate. To value <strong>Asset 2</strong>, we need the two-year spot rate.</p>
<p>So, to value the bond, we need both the one-year spot rate and the two-year spot rate.</p>
</div>
</div>
<p>Ideally, we would like to have a <strong>table of spot rates</strong> that tells us all the spot rates for all maturities, e.g., the 6-month rate, the 1-year rate, 1.5-year rate, 2-year rate, 2.5-year rate, 3-year rate, …, etc. This table mapping the <em>term to maturity</em><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> to the corresponding spot rate describes the <strong>term structure of interest rates</strong>, whose graphical representations are <strong>yield curves</strong>.</p>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;Term to maturity: the remaining time to maturity.</p></div></div><div class="cell">
<div class="sourceCode cell-code hidden" id="cb1" data-startfrom="49" data-source-offset="-3"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 48;"><span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> {</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> data <span class="op">=</span> {<span class="st">"YTM"</span><span class="op">:</span> []<span class="op">,</span> <span class="st">"Year"</span><span class="op">:</span> []}<span class="op">;</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (<span class="kw">let</span> year<span class="op">=</span> <span class="fl">0.05</span><span class="op">;</span> year <span class="op">&lt;</span> <span class="dv">10</span><span class="op">;</span> year<span class="op">+=</span><span class="fl">0.5</span>) {</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>    data<span class="op">.</span><span class="at">YTM</span><span class="op">.</span><span class="fu">push</span>(<span class="bu">Math</span><span class="op">.</span><span class="fu">pow</span>(<span class="fl">1.1</span><span class="op">,</span> year)<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>    data<span class="op">.</span><span class="at">Year</span><span class="op">.</span><span class="fu">push</span>(year)</span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> data<span class="op">;</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>  <span class="dt">caption</span><span class="op">:</span> <span class="st">"An illustrative yield curve"</span><span class="op">,</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">padding</span><span class="op">:</span> <span class="fl">0.4</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Maturity (years)"</span>}<span class="op">,</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">padding</span><span class="op">:</span> <span class="fl">0.4</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Spot Rate (%)"</span>}<span class="op">,</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>  <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(<span class="fu">transpose</span>(d)<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"Year"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"YTM"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span>})<span class="op">,</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p>Moreover, we want this curve to be continuous without gaps, so that at any point of time we would know the spot rate to use for a cashflow, say 3.14 years in the future.</p>
<p>However, do we have all spot rates readily available? Unfortunately, no. At least not directly.</p>
</section>
<section id="what-do-we-have-in-reality" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="what-do-we-have-in-reality">What do we have in reality?</h2>
<p>Why do we not have a table of all spot rates? This is firstly because there are no government bonds for some maturities. For example, the U.S. government issues only Treasury securities of a selected range of maturities:<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<div class="no-row-height column-margin column-container"><div id="fn2"><p><sup>2</sup>&nbsp;See <a href="https://www.treasurydirect.gov/marketable-securities/">TreasuryDirect</a> for a list of available Treasury securities. This is the official website to buy U.S. Treasury securities.</p></div></div><ul>
<li>Treasury Bills (no coupon): 4, 8, 13, 17, 26, and 52 weeks.</li>
<li>Treasury Notes (semi-annual coupon): 2, 3, 5, 7, or 10 years.</li>
<li>Treasury Bonds (semi-annual coupon): 20 or 30 years.</li>
</ul>
<p>Further, <strong>the YTM of a bond is a complicated weighted average of spot rates <span class="math inline">\(\{r_\tau\}\)</span></strong> conditional on other bond-specific characteristics. For example, the YTM <span class="math inline">\(y_n\)</span> of a <span class="math inline">\(n\)</span>-year coupon bond with annual payments <span class="math inline">\(C\)</span> and face value <span class="math inline">\(F\)</span> is function <span class="math inline">\(g\)</span> of <span class="math inline">\(\{r_{\tau}\}, C, F, n\)</span>:</p>
<p><span class="math display">\[
y_{n} = g(\{r_\tau\}| C, F, n)
\]</span></p>
<p>We can observe from the market the YTMs <span class="math inline">\(\{y_n\}\)</span> of Treasury securities of all maturities. If we plot them, we may end up with a “yield (to maturity) curve” like below:</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb2" data-startfrom="95" data-source-offset="-3"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 94;"><span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a>d2 <span class="op">=</span> {</span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> data <span class="op">=</span> {<span class="st">"YTM"</span><span class="op">:</span> []<span class="op">,</span> <span class="st">"Year"</span><span class="op">:</span> []}<span class="op">;</span></span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> m <span class="op">=</span> [<span class="fl">0.5</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">20</span><span class="op">,</span> <span class="dv">30</span>]<span class="op">;</span></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (<span class="kw">let</span> year<span class="op">=</span> <span class="dv">0</span><span class="op">;</span> year <span class="op">&lt;</span> <span class="dv">31</span><span class="op">;</span> year<span class="op">++</span>) {</span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a>    data<span class="op">.</span><span class="at">Year</span><span class="op">.</span><span class="fu">push</span>(year)</span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (m<span class="op">.</span><span class="fu">includes</span>(year)) {</span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a>      data<span class="op">.</span><span class="at">YTM</span><span class="op">.</span><span class="fu">push</span>(<span class="bu">Math</span><span class="op">.</span><span class="fu">pow</span>(<span class="fl">1.05</span><span class="op">,</span> year)<span class="op">-</span><span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a>      data<span class="op">.</span><span class="at">YTM</span><span class="op">.</span><span class="fu">push</span>(<span class="kw">null</span>)<span class="op">;</span></span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> data<span class="op">;</span></span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a>  <span class="dt">caption</span><span class="op">:</span> <span class="st">"An illustrative graph of Treasury Securities' YTMs"</span><span class="op">,</span></span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">padding</span><span class="op">:</span> <span class="fl">0.4</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Maturity (years)"</span>}<span class="op">,</span></span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">padding</span><span class="op">:</span> <span class="fl">0.4</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"YTM (%)"</span>}<span class="op">,</span></span>
<span id="cb2-112"><a href="#cb2-112" aria-hidden="true" tabindex="-1"></a>  <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb2-113"><a href="#cb2-113" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb2-114"><a href="#cb2-114" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb2-115"><a href="#cb2-115" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb2-116"><a href="#cb2-116" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(<span class="fu">transpose</span>(d2)<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"Year"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"YTM"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span>})<span class="op">,</span></span>
<span id="cb2-117"><a href="#cb2-117" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb2-118"><a href="#cb2-118" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>Notice that here we plot the YTMs <span class="math inline">\(\{y_n\}\)</span>, not the spot rates <span class="math inline">\(\{r_\tau\}\)</span>.</p>
</div>
</div>
<p>Immediately, we can feel the need for some further work:</p>
<ul>
<li>First, we need some reasonable interpolation methods to fill the gaps and connect the dots.</li>
<li>Second, we need a method to extract spot rate <span class="math inline">\(r\)</span> from yield <span class="math inline">\(y\)</span>.</li>
</ul>
<p>For the first point, unfortunately, finding such a reasonable interpolation method is not easy and requires advanced finance and mathematical knowledge. It is beyond the scope of discussion here.</p>
<p>Further, for those coupon-paying Treasury securities (TNotes and TBonds), their observed market yields are subject to the “<strong>coupon effect</strong>”, i.e., the bond yield is affected by coupon rate holding everything else constant.</p>
<p>But luckily, once we have removed the “coupon effect” from the yields, the second point is relatively straightforward as we will see soon.</p>
</section>
<section id="the-coupon-effect-and-par-yield" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="the-coupon-effect-and-par-yield">The “coupon effect” and “par yield”</h2>
<p>Recall that a bond’s YTM is a function of spot rates <em>conditional on</em> its coupon rate and other characteristics. This means that, other things equal, coupon rates affect YTM. This effect is <strong>unwanted</strong> - we are only interested in the relationship between yields and maturities without the distortion in yield comparisons caused by differences in coupon rates among bonds of different maturities.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Quick notes on the coupon effect">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quick notes on the coupon effect
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>If the yield curve (of spot rates) is not flat, then bonds with the same maturity but different coupons will have different yields.
<ul>
<li>If the yield curve is upward-sloping, then for any given maturity, higher coupon bonds will have lower yields.</li>
<li>If the yield curve is downward-sloping, then for any given maturity, higher coupon bonds will have higher yields.</li>
</ul></li>
</ul>
<p>See for example <a href="https://pages.stern.nyu.edu/~jcarpen0/courses/b403333/03yield.pdf">this NYU Stern course note</a> on the coupon effect.</p>
</div>
</div>
<p>There is, fortunately, a situation where the “coupon effect” is not a concern, that is when the bonds are trading at par. <strong>When bonds are trading at par, their coupon rates and yields are aligned, and this “coupon effect” is mitigated</strong>.</p>
<p>Therefore, when we initially select the Treasury securities in our analysis, we would like to choose those that are trading at par. We’d also like to choose those <strong>on-the-run</strong><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> Treasury securities because their yields are the most recent reflection of market expectation, and they are more likely to be trading at par or close to par.</p>
<div class="no-row-height column-margin column-container"><div id="fn3"><p><sup>3</sup>&nbsp;“on-the-run” refers to the most recently issued and actively traded securities in a particular category, usually referring to government bonds. These are the latest bonds or securities issued by a government or other issuing entity, and they are typically the ones that are most actively traded in the market.</p>
<p>In the context of government bonds, such as U.S. Treasury bonds, the term “on-the-run” is used to describe the most recently auctioned bonds of a particular maturity. These bonds are considered the benchmark or reference securities for that maturity because they represent the most current market conditions.</p></div></div><p>The YTMs of these Treasury securities trading at par are called the “<strong>par yields</strong>”. Notice that while they’re named “yield”, but they are also the coupon rate of bonds such that these bonds are traded at par.</p>
<blockquote class="blockquote">
<p>In other words, <strong>par yield</strong> is like a market consensus of what the coupon rate (hence yield) of a newly issued Treasury bond should be, so that it is fairly issued at par.</p>
</blockquote>
<p>Of course, not all on-the-run Treasury securities will necessarily be trading at par. Some adjustments may be applied by the Treasury. Though the Treasury does not disclose the exact method, but they do report <a href="https://home.treasury.gov/policy-issues/financing-the-government/interest-rate-statistics">the daily par yields for all maturities</a>.</p>
</section>
<section id="the-yield-curve" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="the-yield-curve">The yield curve</h2>
<p>Now that par yields remove the coupon effect, we may proceed to computing spot rates (zero rates), which will then be used in bond pricing.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
<div class="no-row-height column-margin column-container"><div id="fn4"><p><sup>4</sup>&nbsp;We didn’t talk about how to “fill the gaps” between consecutive par yields because the methods used by central banks are pretty complicated. Let’s assume that we are provided with such par yield curve without gaps to facilitate our discussions.</p></div></div><p>It should be noted, though, given a series of par yields, there should be a corresponding series zero rates. Hence, <strong>a yield curve can either be represented in terms of par yields or zero rates - they carry the same information</strong>.</p>
<section id="par-yields-to-zero-rates" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="par-yields-to-zero-rates">Par yields to zero rates</h3>
<p>Suppose at the end of the day, we observe the following par yields:</p>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 35%">
<col style="width: 30%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th>Maturity</th>
<th>Type</th>
<th>Par Yield</th>
<th>Zero Rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>6 months</strong></td>
<td><strong>TBill</strong> (no coupon)</td>
<td><span class="math inline">\(y_{0.5yr}=1.05\%\)</span></td>
<td>1.05%</td>
</tr>
<tr class="even">
<td><strong>1 year</strong></td>
<td><strong>TBill</strong> (no coupon)</td>
<td><span class="math inline">\(y_{1yr}=1.2\%\)</span></td>
<td>1.2%</td>
</tr>
<tr class="odd">
<td>1.5 years</td>
<td>Hypothetical TNote</td>
<td><span class="math inline">\(y_{1.5yr}=1.5\%\)</span></td>
<td></td>
</tr>
<tr class="even">
<td><strong>2 year</strong></td>
<td><strong>TNote</strong></td>
<td><span class="math inline">\(y_{2yr}=2.2\%\)</span></td>
<td></td>
</tr>
<tr class="odd">
<td>2.5 year</td>
<td>Hypothetical TNote</td>
<td><span class="math inline">\(y_{2.5yr}=2.4\%\)</span></td>
<td></td>
</tr>
<tr class="even">
<td><strong>3 year</strong></td>
<td><strong>TNote</strong></td>
<td><span class="math inline">\(y_{3yr}=2.8\%\)</span></td>
<td></td>
</tr>
<tr class="odd">
<td>3.5 year</td>
<td>Hypothetical TNote</td>
<td><span class="math inline">\(y_{3.5yr}=3\%\)</span></td>
<td></td>
</tr>
<tr class="even">
<td>4 year</td>
<td>Hypothetical TNote</td>
<td><span class="math inline">\(y_{4yr}=3.4\%\)</span></td>
<td></td>
</tr>
<tr class="odd">
<td>…</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>We can compute the zero rates from the given par yields using a method called <strong>bootstrapping</strong>.<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a></p>
<div class="no-row-height column-margin column-container"><div id="fn5"><p><sup>5</sup>&nbsp;Bootstrapping is an iterative process. In each iteration, we compute a single output based known information plus all the <em>previously computed outputs</em>, so that the “information set” grows gradually as we move forward.</p></div></div><p><strong>Iteration 1</strong></p>
<p>Let’s consider the pricing of the (hypothetical) 1.5-year TNote. Its par yield and hence coupon rate is <span class="math inline">\(y_{1.5}=1.5\%\)</span>. Notice that the only unknown variable is the 1.5-year spot rate (zero rate) <span class="math inline">\({\color{red}r_{1.5}}\)</span>:</p>
<p><span class="math display">\[
P(\text{1.5yr } y_{1.5}\% \text{ TNote}) = \frac{0.5\times y_{1.5}}{1+\frac{r_{0.5}}{2}} + \frac{0.5\times y_{1.5}}{(1+\frac{r_{1}}{2})^2} + \frac{0.5\times y_{1.5}+100}{(1+\frac{\color{red}r_{1.5}}{2})^3} = 100
\]</span></p>
<p>Since there is only one unknown, we can solve for the 1.5-year spot rate (zero rate) <span class="math inline">\({\color{red}r_{1.5}}\)</span>. In this example, the value of <span class="math inline">\(\color{green}r_{1.5}=1.5026\%\)</span></p>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 32%">
<col style="width: 28%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th>Maturity</th>
<th>Type</th>
<th>Par Yield</th>
<th>Zero Rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>6 months</strong></td>
<td><strong>TBill</strong> (no coupon)</td>
<td><span class="math inline">\(y_{0.5yr}=1.05\%\)</span></td>
<td>1.05%</td>
</tr>
<tr class="even">
<td><strong>1 year</strong></td>
<td><strong>TBill</strong> (no coupon)</td>
<td><span class="math inline">\(y_{1yr}=1.2\%\)</span></td>
<td>1.2%</td>
</tr>
<tr class="odd">
<td>1.5 years</td>
<td>Hypothetical TNote</td>
<td><span class="math inline">\(y_{1.5yr}=1.5\%\)</span></td>
<td><span class="math inline">\(\color{green}r_{1.5}=1.5026\%\)</span></td>
</tr>
<tr class="even">
<td><strong>2 year</strong></td>
<td><strong>TNote</strong></td>
<td><span class="math inline">\(y_{2yr}=2.2\%\)</span></td>
<td></td>
</tr>
<tr class="odd">
<td>2.5 year</td>
<td>Hypothetical TNote</td>
<td><span class="math inline">\(y_{2.5yr}=2.4\%\)</span></td>
<td></td>
</tr>
<tr class="even">
<td><strong>3 year</strong></td>
<td><strong>TNote</strong></td>
<td><span class="math inline">\(y_{3yr}=2.8\%\)</span></td>
<td></td>
</tr>
<tr class="odd">
<td>3.5 year</td>
<td>Hypothetical TNote</td>
<td><span class="math inline">\(y_{3.5yr}=3\%\)</span></td>
<td></td>
</tr>
<tr class="even">
<td>4 year</td>
<td>Hypothetical TNote</td>
<td><span class="math inline">\(y_{4yr}=3.4\%\)</span></td>
<td></td>
</tr>
<tr class="odd">
<td>…</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Iteration 2</strong></p>
<p>Now consider the pricing of the 2-year TNote. Its par yield hence coupon rate is <span class="math inline">\(y_{2}=2.2\%\)</span>. Notice that we now have the 1.5-year spot rate <span class="math inline">\(\color{green}r_{1.5}\)</span> available from last iteration, and the only unknown variable is now the 2-year spot rate (zero rate) <span class="math inline">\({\color{red}r_{2}}\)</span>:</p>
<p><span class="math display">\[
P(\text{2yr } y_2\% \text{ TNote}) = \frac{0.5\times y_2}{1+\frac{r_{0.5}}{2}} + \frac{0.5\times y_2}{(1+\frac{r_{1}}{2})^2} + \frac{0.5\times y_2}{(1+\frac{\color{green}r_{1.5}}{2})^3} +\frac{0.5\times y_2+100}{(1+\frac{\color{red}r_{2}}{2})^4}=100
\]</span></p>
<p>We can solve for the 2-year spot rate (zero rate) <span class="math inline">\({\color{red}r_{2}}\)</span>. It turns out that in this example, <span class="math inline">\({\color{green}r_{2}=2.2146\%}\)</span>.</p>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 32%">
<col style="width: 28%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th>Maturity</th>
<th>Type</th>
<th>Par Yield</th>
<th>Zero Rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>6 months</strong></td>
<td><strong>TBill</strong> (no coupon)</td>
<td><span class="math inline">\(y_{0.5yr}=1.05\%\)</span></td>
<td>1.05%</td>
</tr>
<tr class="even">
<td><strong>1 year</strong></td>
<td><strong>TBill</strong> (no coupon)</td>
<td><span class="math inline">\(y_{1yr}=1.2\%\)</span></td>
<td>1.2%</td>
</tr>
<tr class="odd">
<td>1.5 years</td>
<td>Hypothetical TNote</td>
<td><span class="math inline">\(y_{1.5yr}=1.5\%\)</span></td>
<td><span class="math inline">\(\color{green}r_{1.5}=1.5026\%\)</span></td>
</tr>
<tr class="even">
<td><strong>2 year</strong></td>
<td><strong>TNote</strong></td>
<td><span class="math inline">\(y_{2yr}=2.2\%\)</span></td>
<td><span class="math inline">\({\color{green}r_{2}=2.2146\%}\)</span></td>
</tr>
<tr class="odd">
<td>2.5 year</td>
<td>Hypothetical TNote</td>
<td><span class="math inline">\(y_{2.5yr}=2.4\%\)</span></td>
<td></td>
</tr>
<tr class="even">
<td><strong>3 year</strong></td>
<td><strong>TNote</strong></td>
<td><span class="math inline">\(y_{3yr}=2.8\%\)</span></td>
<td></td>
</tr>
<tr class="odd">
<td>3.5 year</td>
<td>Hypothetical TNote</td>
<td><span class="math inline">\(y_{3.5yr}=3\%\)</span></td>
<td></td>
</tr>
<tr class="even">
<td>4 year</td>
<td>Hypothetical TNote</td>
<td><span class="math inline">\(y_{4yr}=3.4\%\)</span></td>
<td></td>
</tr>
<tr class="odd">
<td>…</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Iteration 3</strong></p>
<p>Now consider the pricing of the 2.5-year TNote. Its par yield hence coupon rate is <span class="math inline">\(y_{2.5}=2.4\%\)</span>. Notice that we now have <span class="math inline">\(\color{green}r_{1.5}\)</span> and <span class="math inline">\(\color{green}r_{2}\)</span> available from last iterations, and the only unknown variable is now the 2.5-year spot rate (zero rate) <span class="math inline">\({\color{red}r_{2.5}}\)</span>:</p>
<p><span class="math display">\[
P(\text{2.5yr } y_{2.5}\% \text{ TNote}) = \frac{0.5\times y_{2.5}}{1+\frac{r_{0.5}}{2}} + \frac{0.5\times y_{2.5}}{(1+\frac{r_{1}}{2})^2} + \frac{0.5\times y_{2.5}}{(1+\frac{\color{green}r_{1.5}}{2})^3} +\frac{0.5\times y_{2.5}}{(1+\frac{\color{green}r_{2}}{2})^4} + \frac{0.5\times y_{2.5}+100}{(1+\frac{\color{red}r_{2.5}}{2})^4}=100
\]</span></p>
<p>We can solve for the 2.5-year spot rate (zero rate) <span class="math inline">\({\color{red}r_{2.5}}\)</span>. It turns out that in this example, <span class="math inline">\({\color{green}r_{2.5}=2.4176\%}\)</span>.</p>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 32%">
<col style="width: 28%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th>Maturity</th>
<th>Type</th>
<th>Par Yield</th>
<th>Zero Rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>6 months</strong></td>
<td><strong>TBill</strong> (no coupon)</td>
<td><span class="math inline">\(y_{0.5yr}=1.05\%\)</span></td>
<td>1.05%</td>
</tr>
<tr class="even">
<td><strong>1 year</strong></td>
<td><strong>TBill</strong> (no coupon)</td>
<td><span class="math inline">\(y_{1yr}=1.2\%\)</span></td>
<td>1.2%</td>
</tr>
<tr class="odd">
<td>1.5 years</td>
<td>Hypothetical TNote</td>
<td><span class="math inline">\(y_{1.5yr}=1.5\%\)</span></td>
<td><span class="math inline">\(\color{green}r_{1.5}=1.5026\%\)</span></td>
</tr>
<tr class="even">
<td><strong>2 year</strong></td>
<td><strong>TNote</strong></td>
<td><span class="math inline">\(y_{2yr}=2.2\%\)</span></td>
<td><span class="math inline">\({\color{green}r_{2}=2.2146\%}\)</span></td>
</tr>
<tr class="odd">
<td>2.5 year</td>
<td>Hypothetical TNote</td>
<td><span class="math inline">\(y_{2.5yr}=2.4\%\)</span></td>
<td><span class="math inline">\({\color{green}r_{2.5}=2.4176\%}\)</span></td>
</tr>
<tr class="even">
<td><strong>3 year</strong></td>
<td><strong>TNote</strong></td>
<td><span class="math inline">\(y_{3yr}=2.8\%\)</span></td>
<td></td>
</tr>
<tr class="odd">
<td>3.5 year</td>
<td>Hypothetical TNote</td>
<td><span class="math inline">\(y_{3.5yr}=3\%\)</span></td>
<td></td>
</tr>
<tr class="even">
<td>4 year</td>
<td>Hypothetical TNote</td>
<td><span class="math inline">\(y_{4yr}=3.4\%\)</span></td>
<td></td>
</tr>
<tr class="odd">
<td>…</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Iterations continue…</strong></p>
<p>Eventually, we will be able to fill all the blanks in the table by working out the zero rates for all maturities.</p>
</section>
<section id="plotting-yield-curves" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="plotting-yield-curves">Plotting yield curves</h3>
<p>In terms of the example above, we can plot the par yields (blue) and bootstrapped zero rates (red) as below.</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb3" data-startfrom="267" data-source-offset="-2"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 266;"><span id="cb3-267"><a href="#cb3-267" aria-hidden="true" tabindex="-1"></a>d3 <span class="op">=</span> [{ <span class="st">"year"</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">1.05</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">1.05</span> }<span class="op">,</span></span>
<span id="cb3-268"><a href="#cb3-268" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">1.2</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">1.2</span> }<span class="op">,</span></span>
<span id="cb3-269"><a href="#cb3-269" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">1.5</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">1.5</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">1.5026393890380874</span> }<span class="op">,</span></span>
<span id="cb3-270"><a href="#cb3-270" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">2.0</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">2.2</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">2.2146487236022976</span> }<span class="op">,</span></span>
<span id="cb3-271"><a href="#cb3-271" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">2.5</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">2.4</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">2.417717552185062</span> }<span class="op">,</span></span>
<span id="cb3-272"><a href="#cb3-272" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">3.0</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">2.8</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">2.8317731857299844</span> }<span class="op">,</span></span>
<span id="cb3-273"><a href="#cb3-273" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">3.5</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">3.0386474132537877</span> }<span class="op">,</span></span>
<span id="cb3-274"><a href="#cb3-274" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">4.0</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">3.4</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">3.4637652397155807</span> }<span class="op">,</span></span>
<span id="cb3-275"><a href="#cb3-275" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">4.5</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">3.5</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">3.565935420989996</span> }<span class="op">,</span></span>
<span id="cb3-276"><a href="#cb3-276" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">5.0</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">3.6</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">3.669886875152593</span> }<span class="op">,</span></span>
<span id="cb3-277"><a href="#cb3-277" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">5.5</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">3.8</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">3.8880950450897283</span> }<span class="op">,</span></span>
<span id="cb3-278"><a href="#cb3-278" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">6.0</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">4.1098044395446856</span> }<span class="op">,</span></span>
<span id="cb3-279"><a href="#cb3-279" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">6.5</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">4.3</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">4.453684520721444</span> }<span class="op">,</span></span>
<span id="cb3-280"><a href="#cb3-280" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">7.0</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">4.8</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">5.053358459472664</span> }<span class="op">,</span></span>
<span id="cb3-281"><a href="#cb3-281" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">7.5</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">5.290201091766365</span> }<span class="op">,</span></span>
<span id="cb3-282"><a href="#cb3-282" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">8.0</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">5.2</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">5.533113956451425</span> }<span class="op">,</span></span>
<span id="cb3-283"><a href="#cb3-283" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">8.5</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">5.35</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">5.714883279800425</span> }<span class="op">,</span></span>
<span id="cb3-284"><a href="#cb3-284" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">9.0</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">5.4</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">5.763193321228037</span> }<span class="op">,</span></span>
<span id="cb3-285"><a href="#cb3-285" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">9.5</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">5.45</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">5.8138489723205655</span> }<span class="op">,</span></span>
<span id="cb3-286"><a href="#cb3-286" aria-hidden="true" tabindex="-1"></a>        { <span class="st">"year"</span><span class="op">:</span> <span class="fl">10.0</span><span class="op">,</span> <span class="st">"par_yield"</span><span class="op">:</span> <span class="fl">5.5</span><span class="op">,</span> <span class="st">"spot_rate"</span><span class="op">:</span> <span class="fl">5.866698265075694</span> }]</span>
<span id="cb3-287"><a href="#cb3-287" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb3-288"><a href="#cb3-288" aria-hidden="true" tabindex="-1"></a>  <span class="dt">caption</span><span class="op">:</span> <span class="st">"An illustrative graph of par yields and zero rates"</span><span class="op">,</span></span>
<span id="cb3-289"><a href="#cb3-289" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">padding</span><span class="op">:</span> <span class="fl">0.4</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Maturity (years)"</span>}<span class="op">,</span></span>
<span id="cb3-290"><a href="#cb3-290" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">padding</span><span class="op">:</span> <span class="fl">0.4</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"YTM (%)"</span>}<span class="op">,</span></span>
<span id="cb3-291"><a href="#cb3-291" aria-hidden="true" tabindex="-1"></a>  <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb3-292"><a href="#cb3-292" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb3-293"><a href="#cb3-293" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb3-294"><a href="#cb3-294" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb3-295"><a href="#cb3-295" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(d3<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"par_yield"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span>})<span class="op">,</span></span>
<span id="cb3-296"><a href="#cb3-296" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(d3<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"spot_rate"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span>})<span class="op">,</span></span>
<span id="cb3-297"><a href="#cb3-297" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb3-298"><a href="#cb3-298" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="What does a yield curve look like in real world?">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What does a yield curve look like in real world?
</div>
</div>
<div class="callout-body-container callout-body">
<p>See an animation of the daily yield curves since January 2021 to August 2023<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>. This is the par yield curve without interpolation. I simply connect consecutive par yields straightly.</p>
</div>
</div>
<div class="no-row-height column-margin column-container"><div id="fn6"><p><sup>6</sup>&nbsp;Yes, yield curve is not constant. As time changes, the par yields (hence spot rates) change!</p></div></div><div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/ou2pjXICvaE?si=F5ijTE5fZkQUc9pJ" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<div class="callout callout-style-default callout-note callout-titled" title="Stata code for the animation">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Stata code for the animation
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb4"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">/* Yield Curve Animation Frames */</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">/* Import data from FRED */</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>import fred DGS1MO DGS3MO DGS6MO DGS1 DGS2 DGS3 DGS5 DGS7 DGS10 DGS20 DGS30, <span class="co">///</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>daterange(2021-01-01 2023-08-25) <span class="kw">aggregate</span>(<span class="fu">daily</span>,eop) <span class="kw">clear</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="kw">drop</span> datestr </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co">/* Rename vars to reshape */</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="kw">foreach</span> yr <span class="kw">in</span> 1 2 3 5 7 10 20 30 {</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>loc months = <span class="ot">`yr'</span>*12</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="kw">rename</span> DGS<span class="ot">`yr'</span> DGS<span class="ot">`months'</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="kw">foreach</span> <span class="fu">m</span> <span class="kw">in</span> 1 3 6 {</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="kw">rename</span> DSG<span class="ot">`m'</span>MO DGS<span class="ot">`m'</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="kw">reshape</span> <span class="kw">long</span> DGS, i(daten) j(maturityInMonths)</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="kw">rename</span> DGS yield</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="co">/* Vars */</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> maturity = maturityInMonths/12</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="kw">label</span> <span class="kw">var</span> maturity <span class="st">"Maturity (years)"</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="kw">label</span> <span class="kw">var</span> yield <span class="st">"Yield (%)"</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="co">/* Remove no-yield dates */</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="kw">drop</span> <span class="kw">if</span> yield == .</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>loc i = 0</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="kw">forvalues</span> <span class="fu">year</span> = 2021/2023 {</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a><span class="kw">forvalues</span> <span class="fu">month</span> = 1/12 {</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>  <span class="kw">forvalues</span> <span class="fu">day</span> = 1/31 {</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    <span class="co">/* Skip dates without data */</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>    loc <span class="fu">date</span> = <span class="fu">mdy</span>(<span class="ot">`month'</span>, <span class="ot">`day'</span>, <span class="ot">`year'</span>)</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>    <span class="kw">if</span> <span class="ot">`date'</span> == . {</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>      <span class="kw">continue</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    <span class="kw">local</span> formatted_date : <span class="kw">display</span> %tdY-<span class="fu">m</span>-<span class="kw">d</span> <span class="ot">`date'</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    <span class="kw">di</span> <span class="st">"`formatted_date'"</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>    su <span class="kw">if</span> daten== <span class="fu">mdy</span>(<span class="ot">`month'</span>,<span class="ot">`day'</span>,<span class="ot">`year'</span>), <span class="kw">meanonly</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>    <span class="kw">if</span> <span class="fu">r</span>(<span class="kw">N</span>)==0 {</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>      <span class="kw">continue</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>    <span class="co">/* Plot and index each date as a frame */</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>    loc i = <span class="ot">`i'</span> + 1</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>    <span class="kw">twoway</span> (spike yield maturity, <span class="kw">sort</span> lcolor(%30) lpattern(<span class="kw">dash</span>)) <span class="co">///</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>    (connected yield maturity, <span class="kw">sort</span>) <span class="kw">if</span> daten== <span class="fu">mdy</span>(<span class="ot">`month'</span>,<span class="ot">`day'</span>,<span class="ot">`year'</span>), <span class="co">///</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>    <span class="kw">ylabel</span>(0(1)10) <span class="bn">xtitle</span>(Maturity) <span class="co">///</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>    <span class="kw">xlabel</span>(0.5 <span class="st">"6M"</span> 1 <span class="st">"1Y"</span> 2 <span class="st">"2Y"</span> 3 <span class="st">"3Y"</span> 5 <span class="st">"5Y"</span> 7 <span class="st">"7Y"</span> <span class="co">///</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>      10 <span class="st">"10Y"</span> 20 <span class="st">"20Y"</span> 30 <span class="st">"30Y"</span>, <span class="bn">labsize</span>(vsmall) <span class="co">///</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    angle(forty_five)) <span class="bn">title</span>(Yield Curve <span class="kw">of</span> U.S. Treasury Securities) <span class="co">///</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>    <span class="bn">subtitle</span>(<span class="st">"Date: `formatted_date'"</span>) <span class="co">///</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>    <span class="bn">caption</span>(Made <span class="kw">by</span> Dr. Mingze Gao, <span class="kw">size</span>(vsmall) <span class="bn">position</span>(5)) <span class="co">///</span></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>    <span class="kw">note</span>(Source: FRED) <span class="bn">legend</span>(<span class="kw">off</span>)</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>    <span class="kw">graph</span> <span class="kw">export</span> <span class="st">"yiled_curve_`i'.png"</span>, <span class="kw">replace</span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="shapes-of-yield-curve" class="level3">
<h3 class="anchored" data-anchor-id="shapes-of-yield-curve">Shapes of yield curve</h3>
<p>We can see from the animation above that the yield curve has been overall <strong>shifted</strong> upwardly in the past few years. Moreover, the <strong>shape</strong> of the yield curve has changed.</p>
<ul>
<li>In 2021, the yield curve’s shape was <strong>normal</strong>, meaning that it’s upward-sloping with short-term yields lower than long-term yields.</li>
<li>In 2022, the yield curve’s shape became <strong>flat</strong>, meaning that the short-term yields are similar to those long-term yields.</li>
<li>Since late 2022 and in 2023, the yield curve’s shape is <strong>inverted</strong>, meaning that it’s downward-sloping the short-term yields higher than long-term yields.</li>
</ul>
<p>These shapes of yield curves are informative.</p>
<ul>
<li>An <strong>upward-sloping yield curve</strong> generally indicates that investors expect the economy to grow in the future, leading to higher inflation and interest rates. It reflects the market’s anticipation of increasing borrowing costs and potentially rising demand for credit.</li>
<li>A <strong>flat yield curve</strong> could suggest uncertainty about the economic outlook. It might also indicate that the central bank is maintaining a neutral stance or that market participants believe that current interest rates are close to their peak.</li>
<li>An <strong>inverted yield curve</strong> is often seen as a signal of potential economic slowdown or recession. It suggests that investors expect future interest rates to decline due to weaker economic conditions. An inverted curve can indicate that market participants expect the central bank to cut interest rates to stimulate economic growth.</li>
</ul>


</section>
</section>


<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IiBcclxuZCA9IHtcclxuICBjb25zdCBkYXRhID0ge1wiWVRNXCI6IFtdLCBcIlllYXJcIjogW119O1xyXG4gIGZvciAobGV0IHllYXI9IDAuMDU7IHllYXIgPCAxMDsgeWVhcis9MC41KSB7XHJcbiAgICBkYXRhLllUTS5wdXNoKE1hdGgucG93KDEuMSwgeWVhciktMSlcclxuICAgIGRhdGEuWWVhci5wdXNoKHllYXIpXHJcbiAgfVxyXG4gIHJldHVybiBkYXRhO1xyXG59XHJcblBsb3QucGxvdCh7XHJcbiAgY2FwdGlvbjogXCJBbiBpbGx1c3RyYXRpdmUgeWllbGQgY3VydmVcIixcclxuICB4OiB7cGFkZGluZzogMC40LCBsYWJlbDogXCJNYXR1cml0eSAoeWVhcnMpXCJ9LFxyXG4gIHk6IHtwYWRkaW5nOiAwLjQsIGxhYmVsOiBcIlNwb3QgUmF0ZSAoJSlcIn0sXHJcbiAgZ3JpZDogdHJ1ZSxcclxuICBtYXJrczogW1xyXG4gICAgUGxvdC5ydWxlWShbMF0pLFxyXG4gICAgUGxvdC5ydWxlWChbMF0pLFxyXG4gICAgUGxvdC5kb3QodHJhbnNwb3NlKGQpLCB7eDogXCJZZWFyXCIsIHk6IFwiWVRNXCIsIHN0cm9rZTogXCJibHVlXCJ9KSxcclxuICBdXHJcbn0pXHJcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IiBcclxuZDIgPSB7XHJcbiAgY29uc3QgZGF0YSA9IHtcIllUTVwiOiBbXSwgXCJZZWFyXCI6IFtdfTtcclxuICBjb25zdCBtID0gWzAuNSwgMSwgMiwgMywgNSwgNywgMTAsIDIwLCAzMF07XHJcbiAgZm9yIChsZXQgeWVhcj0gMDsgeWVhciA8IDMxOyB5ZWFyKyspIHtcclxuICAgIGRhdGEuWWVhci5wdXNoKHllYXIpXHJcbiAgICBpZiAobS5pbmNsdWRlcyh5ZWFyKSkge1xyXG4gICAgICBkYXRhLllUTS5wdXNoKE1hdGgucG93KDEuMDUsIHllYXIpLTEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGF0YS5ZVE0ucHVzaChudWxsKTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGRhdGE7XHJcbn1cclxuUGxvdC5wbG90KHtcclxuICBjYXB0aW9uOiBcIkFuIGlsbHVzdHJhdGl2ZSBncmFwaCBvZiBUcmVhc3VyeSBTZWN1cml0aWVzJyBZVE1zXCIsXHJcbiAgeDoge3BhZGRpbmc6IDAuNCwgbGFiZWw6IFwiTWF0dXJpdHkgKHllYXJzKVwifSxcclxuICB5OiB7cGFkZGluZzogMC40LCBsYWJlbDogXCJZVE0gKCUpXCJ9LFxyXG4gIGdyaWQ6IHRydWUsXHJcbiAgbWFya3M6IFtcclxuICAgIFBsb3QucnVsZVkoWzBdKSxcclxuICAgIFBsb3QucnVsZVgoWzBdKSxcclxuICAgIFBsb3QuZG90KHRyYW5zcG9zZShkMiksIHt4OiBcIlllYXJcIiwgeTogXCJZVE1cIiwgc3Ryb2tlOiBcImJsdWVcIn0pLFxyXG4gIF1cclxufSlcclxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0zIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiXHJcbmQzID0gW3sgXCJ5ZWFyXCI6IDAuNSwgXCJwYXJfeWllbGRcIjogMS4wNSwgXCJzcG90X3JhdGVcIjogMS4wNSB9LFxyXG4gICAgICAgIHsgXCJ5ZWFyXCI6IDEsIFwicGFyX3lpZWxkXCI6IDEuMiwgXCJzcG90X3JhdGVcIjogMS4yIH0sXHJcbiAgICAgICAgeyBcInllYXJcIjogMS41LCBcInBhcl95aWVsZFwiOiAxLjUsIFwic3BvdF9yYXRlXCI6IDEuNTAyNjM5Mzg5MDM4MDg3NCB9LFxyXG4gICAgICAgIHsgXCJ5ZWFyXCI6IDIuMCwgXCJwYXJfeWllbGRcIjogMi4yLCBcInNwb3RfcmF0ZVwiOiAyLjIxNDY0ODcyMzYwMjI5NzYgfSxcclxuICAgICAgICB7IFwieWVhclwiOiAyLjUsIFwicGFyX3lpZWxkXCI6IDIuNCwgXCJzcG90X3JhdGVcIjogMi40MTc3MTc1NTIxODUwNjIgfSxcclxuICAgICAgICB7IFwieWVhclwiOiAzLjAsIFwicGFyX3lpZWxkXCI6IDIuOCwgXCJzcG90X3JhdGVcIjogMi44MzE3NzMxODU3Mjk5ODQ0IH0sXHJcbiAgICAgICAgeyBcInllYXJcIjogMy41LCBcInBhcl95aWVsZFwiOiAzLCBcInNwb3RfcmF0ZVwiOiAzLjAzODY0NzQxMzI1Mzc4NzcgfSxcclxuICAgICAgICB7IFwieWVhclwiOiA0LjAsIFwicGFyX3lpZWxkXCI6IDMuNCwgXCJzcG90X3JhdGVcIjogMy40NjM3NjUyMzk3MTU1ODA3IH0sXHJcbiAgICAgICAgeyBcInllYXJcIjogNC41LCBcInBhcl95aWVsZFwiOiAzLjUsIFwic3BvdF9yYXRlXCI6IDMuNTY1OTM1NDIwOTg5OTk2IH0sXHJcbiAgICAgICAgeyBcInllYXJcIjogNS4wLCBcInBhcl95aWVsZFwiOiAzLjYsIFwic3BvdF9yYXRlXCI6IDMuNjY5ODg2ODc1MTUyNTkzIH0sXHJcbiAgICAgICAgeyBcInllYXJcIjogNS41LCBcInBhcl95aWVsZFwiOiAzLjgsIFwic3BvdF9yYXRlXCI6IDMuODg4MDk1MDQ1MDg5NzI4MyB9LFxyXG4gICAgICAgIHsgXCJ5ZWFyXCI6IDYuMCwgXCJwYXJfeWllbGRcIjogNCwgXCJzcG90X3JhdGVcIjogNC4xMDk4MDQ0Mzk1NDQ2ODU2IH0sXHJcbiAgICAgICAgeyBcInllYXJcIjogNi41LCBcInBhcl95aWVsZFwiOiA0LjMsIFwic3BvdF9yYXRlXCI6IDQuNDUzNjg0NTIwNzIxNDQ0IH0sXHJcbiAgICAgICAgeyBcInllYXJcIjogNy4wLCBcInBhcl95aWVsZFwiOiA0LjgsIFwic3BvdF9yYXRlXCI6IDUuMDUzMzU4NDU5NDcyNjY0IH0sXHJcbiAgICAgICAgeyBcInllYXJcIjogNy41LCBcInBhcl95aWVsZFwiOiA1LCBcInNwb3RfcmF0ZVwiOiA1LjI5MDIwMTA5MTc2NjM2NSB9LFxyXG4gICAgICAgIHsgXCJ5ZWFyXCI6IDguMCwgXCJwYXJfeWllbGRcIjogNS4yLCBcInNwb3RfcmF0ZVwiOiA1LjUzMzExMzk1NjQ1MTQyNSB9LFxyXG4gICAgICAgIHsgXCJ5ZWFyXCI6IDguNSwgXCJwYXJfeWllbGRcIjogNS4zNSwgXCJzcG90X3JhdGVcIjogNS43MTQ4ODMyNzk4MDA0MjUgfSxcclxuICAgICAgICB7IFwieWVhclwiOiA5LjAsIFwicGFyX3lpZWxkXCI6IDUuNCwgXCJzcG90X3JhdGVcIjogNS43NjMxOTMzMjEyMjgwMzcgfSxcclxuICAgICAgICB7IFwieWVhclwiOiA5LjUsIFwicGFyX3lpZWxkXCI6IDUuNDUsIFwic3BvdF9yYXRlXCI6IDUuODEzODQ4OTcyMzIwNTY1NSB9LFxyXG4gICAgICAgIHsgXCJ5ZWFyXCI6IDEwLjAsIFwicGFyX3lpZWxkXCI6IDUuNSwgXCJzcG90X3JhdGVcIjogNS44NjY2OTgyNjUwNzU2OTQgfV1cclxuUGxvdC5wbG90KHtcclxuICBjYXB0aW9uOiBcIkFuIGlsbHVzdHJhdGl2ZSBncmFwaCBvZiBwYXIgeWllbGRzIGFuZCB6ZXJvIHJhdGVzXCIsXHJcbiAgeDoge3BhZGRpbmc6IDAuNCwgbGFiZWw6IFwiTWF0dXJpdHkgKHllYXJzKVwifSxcclxuICB5OiB7cGFkZGluZzogMC40LCBsYWJlbDogXCJZVE0gKCUpXCJ9LFxyXG4gIGdyaWQ6IHRydWUsXHJcbiAgbWFya3M6IFtcclxuICAgIFBsb3QucnVsZVkoWzBdKSxcclxuICAgIFBsb3QucnVsZVgoWzBdKSxcclxuICAgIFBsb3QuZG90KGQzLCB7eDogXCJ5ZWFyXCIsIHk6IFwicGFyX3lpZWxkXCIsIHN0cm9rZTogXCJibHVlXCJ9KSxcclxuICAgIFBsb3QuZG90KGQzLCB7eDogXCJ5ZWFyXCIsIHk6IFwic3BvdF9yYXRlXCIsIHN0cm9rZTogXCJyZWRcIn0pLFxyXG4gIF1cclxufSlcclxuIn1dfQ==
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../posts/fixed-income/yield-curve";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "../../..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/mingze-gao\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="mgao6767/mingze-gao" data-repo-id="MDEwOlJlcG9zaXRvcnkyODEwMTIwMjk=" data-category="Comments" data-category-id="DIC_kwDOEL_nPc4CgWgL" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" data-loading="lazy" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="dark">
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright © 2019 - 2024 Mingze Gao</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mgao6767">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/AdrianMingzeGao">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/adriangao/">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:mingze.gao@mq.edu.au">
      <i class="bi bi-send" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>